/*
	NOTE:
	This file was autogenerated by CppGen, changes may be overwritten and forever lost!
	Modify at your own risk!
	
	[ Generated on 2023.06.23 22:26:53 ]
*/

#include "Scripts.hpp"

namespace CppProject
{
	BoolType app_event_game_end(ScopeAny self)
	{
		if (sVar(startup_error) > 0)
			return true;
		audio_stop_all();
		if (sStr(window_state) != /*"new_assets"*/ STR(78) && sStr(window_state) != /*"load_assets"*/ STR(79))
		{
			if (sInt(project_changed) > 0)
			{
				IntType res = show_message_ext(/*"Mine-imator"*/ STR(19), text_get({ /*"questionconfirmexit"*/ STR(80), sVar(project_name) }), text_get({ /*"questionsave"*/ STR(21) }), text_get({ /*"questiondontsave"*/ STR(22) }), text_get({ /*"questioncancel"*/ STR(23) }));
				if (res == IntType(0))
					project_save(self);
				else
					if (res != IntType(1))
						return false;
				
			}
			settings_save(self);
		}
		log({ /*"Closing..."*/ STR(81) });
		return true;
	}
	
	BoolType app_event_http(ScopeAny self)
	{
		if (DsMap(gmlGlobal::async_load)[/*"id"*/ STR(82)] == sInt(http_assets) && DsMap(gmlGlobal::async_load)[/*"status"*/ STR(83)] < IntType(1) && (!dev_mode || dev_mode_check_assets))
		{
			sInt(http_assets) = null_;
			if (DsMap(gmlGlobal::async_load)[/*"status"*/ STR(83)] == IntType(0) && DsMap(gmlGlobal::async_load)[/*"http_status"*/ STR(84)] == http_ok)
			{
				IntType decodedmap = json_decode(DsMap(gmlGlobal::async_load)[/*"result"*/ STR(85)]);
				if (ds_map_valid(decodedmap))
				{
					VarType versionslist = DsMap(decodedmap).Value(/*"versions"*/ STR(86));
					if (ds_list_valid(versionslist))
					{
						VarType newversionmap = DsList(versionslist).Value(ds_list_size((IntType)(versionslist)) - IntType(1));
						if (ds_map_valid(newversionmap) && !file_exists_lib(minecraft_directory + DsMap(newversionmap).Value(/*"version"*/ STR(87)) + /*".zip"*/ STR(5)))
						{
							if (DsMap(newversionmap).Value(/*"format"*/ STR(88)) >= minecraft_assets_format)
							{
								sVar(setting_minecraft_assets_new_version) = DsMap(newversionmap).Value(/*"version"*/ STR(87));
								sVar(setting_minecraft_assets_new_format) = DsMap(newversionmap).Value(/*"format"*/ STR(88));
								sVar(setting_minecraft_assets_new_changes) = DsMap(newversionmap).Value(/*"changes"*/ STR(89));
								if (is_string(DsMap(newversionmap).Value(/*"image"*/ STR(90))))
								{
									sStr(setting_minecraft_assets_new_image) = mc_file_directory + DsMap(newversionmap).Value(/*"image"*/ STR(90));
									sInt(assets_http_image) = http_get_file(link_assets + DsMap(newversionmap).Value(/*"image"*/ STR(90)), sStr(setting_minecraft_assets_new_image));
								}
								else
									sStr(setting_minecraft_assets_new_image) = /*""*/ STR(0);
								
								toast_new(self, e_toast_INFO, text_get({ /*"alertnewassets"*/ STR(91), sVar(setting_minecraft_assets_new_version) }));
								ObjType(obj_toast, sInt(toast_last))->dismiss_time = no_limit;
								log({ /*"New assets found"*/ STR(92), sVar(setting_minecraft_assets_new_version) });
							}
						}
						else
							log({ /*"Using the latest assets"*/ STR(93) });
						
					}
					ds_map_destroy(decodedmap);
				}
			}
		}
		else
			if (DsMap(gmlGlobal::async_load)[/*"id"*/ STR(82)] == sInt(http_download_assets_file))
			{
				if (DsMap(gmlGlobal::async_load)[/*"status"*/ STR(83)] == IntType(1))
					sReal(new_assets_download_progress) = ((RealType)DsMap(gmlGlobal::async_load)[/*"sizeDownloaded"*/ STR(94)] / DsMap(gmlGlobal::async_load)[/*"contentLength"*/ STR(95)]) * 0.25;
				else
				{
					sInt(http_download_assets_file) = null_;
					sInt(http_download_assets_zip) = http_get_file(link_assets + sStr(new_assets_version) + /*".zip"*/ STR(5), mc_file_directory + sStr(new_assets_version) + /*".zip"*/ STR(5));
				}
				
			}
			else
				if (DsMap(gmlGlobal::async_load)[/*"id"*/ STR(82)] == sInt(http_download_assets_zip))
				{
					if (DsMap(gmlGlobal::async_load)[/*"status"*/ STR(83)] == IntType(1))
						sReal(new_assets_download_progress) = 0.25 + ((RealType)DsMap(gmlGlobal::async_load)[/*"sizeDownloaded"*/ STR(94)] / DsMap(gmlGlobal::async_load)[/*"contentLength"*/ STR(95)]) * 0.75;
					else
					{
						sInt(http_download_assets_zip) = null_;
						sStr(setting_minecraft_assets_version) = sStr(new_assets_version);
						sVar(setting_minecraft_assets_new_version) = /*""*/ STR(0);
						file_copy_lib(mc_file_directory + sStr(new_assets_version) + /*".midata"*/ STR(96), minecraft_directory + sStr(new_assets_version) + /*".midata"*/ STR(96));
						file_copy_lib(mc_file_directory + sStr(new_assets_version) + /*".zip"*/ STR(5), minecraft_directory + sStr(new_assets_version) + /*".zip"*/ STR(5));
						file_delete_lib(mc_file_directory + sStr(new_assets_version) + /*".midata"*/ STR(96));
						file_delete_lib(mc_file_directory + sStr(new_assets_version) + /*".zip"*/ STR(5));
						if (sVar(new_assets_image) != /*""*/ STR(0))
							file_delete_lib(mc_file_directory + sVar(new_assets_image));
						if (!minecraft_assets_load_startup(self))
						{
							error(/*"errorloadassets"*/ STR(97));
							game_end();
							return false;
						}
					}
					
				}
				else
					if (DsMap(gmlGlobal::async_load)[/*"id"*/ STR(82)] == sInt(http_alert_news) && DsMap(gmlGlobal::async_load)[/*"status"*/ STR(83)] < IntType(1))
					{
						sInt(http_alert_news) = null_;
						if (DsMap(gmlGlobal::async_load)[/*"status"*/ STR(83)] == IntType(0) && DsMap(gmlGlobal::async_load)[/*"http_status"*/ STR(84)] == http_ok)
						{
							IntType decodedmap = json_decode(DsMap(gmlGlobal::async_load)[/*"result"*/ STR(85)]);
							if (ds_map_valid(decodedmap))
							{
								VarType newslist = DsMap(decodedmap).Value(/*"default"*/ STR(98));
								for (IntType n = IntType(0); n < ds_list_size((IntType)(newslist)); n++)
								{
									VarType newsmap, title, text, icon, button, buttonurl, iid;
									newsmap = DsList(newslist).Value(n);
									if (ds_map_valid(newsmap))
									{
										text = DsMap(newsmap).Value(/*"text"*/ STR(99));
										icon = DsMap(newsmap).Value(/*"icon"*/ STR(100));
										switch (StringType(icon).id)
										{
											case 101: // website
											{
												icon = icons_WORLD;
												break;
											}
											case 102: // forums
											{
												icon = icons_COMMENT;
												break;
											}
											case 103: // save
											{
												icon = icons_SAVE;
												break;
											}
											case 104: // download
											{
												icon = icons_DOWNLOAD;
												break;
											}
											case 105: // cake
											{
												icon = icons_BIRTHDAY;
												break;
											}
											case 106: // upgrade
											{
												icon = icons_KEY;
												break;
											}
											case 9: // render
											{
												icon = (ObjType(obj_theme, sInt(setting_theme))->dark ? icons_SPHERE_MATERIAL__DARK : icons_SPHERE_MATERIAL);
												break;
											}
											default:
												icon = null_;
												break;
										}
										
										button = DsMap(newsmap).Value(/*"button"*/ STR(107));
										buttonurl = DsMap(newsmap).Value(/*"buttonurl"*/ STR(108));
										if (!is_undefined(DsMap(newsmap).Value(/*"saveclose"*/ STR(109))))
											iid = DsMap(newsmap).Value(/*"id"*/ STR(82));
										else
											iid = null_;
										
										if (!(iid > 0) || ds_list_find_index(sInt(closed_toast_list), iid) < IntType(0))
										{
											toast_new(self, e_toast_INFO, title);
											toast_add_action(self, button, ID_popup_open_url, buttonurl);
											ObjType(obj_toast, sInt(toast_last))->dismiss_time = no_limit;
											ObjType(obj_toast, sInt(toast_last))->iid = iid;
										}
									}
								}
								ds_map_destroy(decodedmap);
							}
							else
								log({ /*"Failed to decode"*/ STR(110) });
							
						}
					}
					else
						if (DsMap(gmlGlobal::async_load)[/*"id"*/ STR(82)] == sInt(http_downloadskin) && DsMap(gmlGlobal::async_load)[/*"status"*/ STR(83)] < IntType(1))
						{
							sInt(http_downloadskin) = null_;
							if (sInt(popup) == sInt(popup_downloadskin))
							{
								ObjType(obj_popup, sInt(popup_downloadskin))->fail_message = text_get({ /*"errordownloadskininternet"*/ STR(111) });
								if (ObjType(obj_popup, sInt(popup_downloadskin))->texture > 0)
								{
									texture_free(ObjType(obj_popup, sInt(popup_downloadskin))->texture);
									ObjType(obj_popup, sInt(popup_downloadskin))->texture = null_;
								}
							}
							else
							{
								ObjType(obj_builder, global::mc_builder)->block_skull_texture = null_;
								ObjType(obj_builder, global::mc_builder)->block_skull_texture_fail = false;
							}
							
							if (DsMap(gmlGlobal::async_load)[/*"status"*/ STR(83)] == IntType(0))
							{
								if (sInt(popup) == sInt(popup_downloadskin))
									ObjType(obj_popup, sInt(popup_downloadskin))->fail_message = text_get({ /*"errordownloadskinuser"*/ STR(112), string_remove_newline(ObjType(obj_popup, sInt(popup_downloadskin))->username) });
								else
									ObjType(obj_builder, global::mc_builder)->block_skull_texture_fail = true;
								
								if (DsMap(gmlGlobal::async_load)[/*"http_status"*/ STR(84)] == http_ok && file_exists_lib(download_image_file))
								{
									if (sInt(popup) == sInt(popup_downloadskin))
									{
										ObjType(obj_popup, sInt(popup_downloadskin))->texture = texture_create(download_image_file);
										ObjType(obj_popup, sInt(popup_downloadskin))->fail_message = /*""*/ STR(0);
									}
									else
									{
										ObjType(obj_builder, global::mc_builder)->block_skull_texture = texture_create(download_image_file);
										ObjType(obj_builder, global::mc_builder)->block_skull_texture_fail = false;
									}
									
								}
							}
						}
				
			
		
		
		return false;
	}
	
	RealType app_event_step(ScopeAny self)
	{
		if (dev_mode && !is_cpp())
		{
			if (keyboard_check_pressed(vk_f1))
				global::window_debug_current = e_window_MAIN;
			if (keyboard_check_pressed(vk_f2) && ds_list_size(global::window_list) > IntType(0))
				global::window_debug_current = DsList(global::window_list).Value(IntType(0));
			if (keyboard_check_pressed(vk_f3) && ds_list_size(global::window_list) > IntType(1))
				global::window_debug_current = DsList(global::window_list).Value(IntType(1));
			if (keyboard_check_pressed(vk_f4) && ds_list_size(global::window_list) > IntType(2))
				global::window_debug_current = DsList(global::window_list).Value(IntType(2));
		}
		app_update_window();
		if (window_mouse_is_active(window_get_current()))
			app_update_mouse();
		if (window_get_current() == e_window_MAIN || (window_get_current() != e_window_MAIN && dev_mode && !is_cpp()))
		{
			sStr(textbox_input) = gmlGlobal::keyboard_string;
			gmlGlobal::keyboard_string = /*""*/ STR(0);
			app_update_micro_animations();
			if (sStr(window_state) == /*"load_assets"*/ STR(79))
				return IntType(0);
			if (sStr(window_state) == /*"new_assets"*/ STR(78) || sStr(window_state) == /*"export_movie"*/ STR(49) || sStr(window_state) == /*"export_image"*/ STR(56))
				return IntType(0);
			app_update_place(self);
			app_update_keybinds();
			app_update_keyboard(self);
			app_update_play();
			app_update_animate(self);
			app_update_previews();
			app_update_backup(self);
			app_update_recent(self);
			app_update_work_camera(self);
			if (window_get_current() == e_window_MAIN)
				app_update_caption();
			app_update_toasts();
			app_update_interface(self);
			app_update_lists(self);
			app_update_minecraft_resources();
			global::current_step += 60.0 / gmlGlobal::room_speed;
		}
		return 0.0;
	}
	
	BoolType app_mouse_box(ScopeAny self, VarType xx, VarType yy, VarType w, VarType h, StringType busy)
	{
		return (gmlGlobal::mouse_x >= xx && gmlGlobal::mouse_y >= yy && gmlGlobal::mouse_x < xx + w && gmlGlobal::mouse_y < yy + h && (sVar(window_busy) == /*""*/ STR(0) || sVar(window_busy) == busy) && sStr(popup_ani_type) == /*""*/ STR(0));
	}
	
	void app_mouse_clear(ScopeAny self)
	{
		sBool(mouse_left) = false;
		sBool(mouse_left_pressed) = false;
		sBool(mouse_left_double_pressed) = false;
		sBool(mouse_left_released) = false;
		sBool(mouse_right) = false;
		sBool(mouse_right_pressed) = false;
		sBool(mouse_right_released) = false;
		sBool(mouse_middle) = false;
		sBool(mouse_middle_pressed) = false;
		sInt(mouse_click_count) = IntType(0);
		mouse_clear(mb_left);
		mouse_clear(mb_right);
		mouse_clear(mb_middle);
	}
	
	RealType app_mouse_wrap(VarType xx, VarType yy, VarType w, VarType h)
	{
		if (!window_mouse_get_permission())
			return IntType(0);
		VarType setx, sety;
		RealType size;
		setx = gmlGlobal::mouse_x;
		sety = gmlGlobal::mouse_y;
		size = IntType(8);
		if ((gmlGlobal::mouse_x - (size / 2.0)) < xx)
		{
			setx = xx + w - size;
			global::_app->mouse_wrap_x--;
		}
		if ((gmlGlobal::mouse_y - (size / 2.0)) < yy)
		{
			sety = yy + h - size;
			global::_app->mouse_wrap_y--;
		}
		if (gmlGlobal::mouse_x > (xx + w - (size / 2.0)) || (display_mouse_get_x() > (window_get_x() + window_get_width()) - (size / 2.0)))
		{
			setx = xx + size;
			global::_app->mouse_wrap_x++;
		}
		if (gmlGlobal::mouse_y > (yy + h - (size / 2.0)) || (display_mouse_get_y() > (window_get_y() + window_get_height()) - (size / 2.0)))
		{
			sety = yy + size;
			global::_app->mouse_wrap_y++;
		}
		if (setx != gmlGlobal::mouse_x || sety != gmlGlobal::mouse_y)
		{
			window_mouse_set((IntType)(setx), (IntType)(sety));
			global::_app->mouse_current_x = setx;
			global::_app->mouse_current_y = sety;
		}
		return 0.0;
	}
	
	void app_start_place(ScopeAny self, IntType tl, BoolType spawn)
	{
		sVar(window_busy) = /*"place"*/ STR(113);
		sInt(place_tl) = tl;
		sBool(place_tl_render) = false;
		sBool(place_spawn) = spawn;
		ObjType(obj_view, sInt(view_main))->update_depth = true;
		ObjType(obj_view, sInt(view_main))->surface_depth_value = 0.995;
		ObjType(obj_view, sInt(view_second))->update_depth = true;
		ObjType(obj_view, sInt(view_second))->surface_depth_value = 0.995;
		withOne (obj_timeline, sInt(place_tl), self->id)
			tl_mark_placed(ScopeAny(self), true);
		
	}
	
	void app_stop_place()
	{
		withOne (obj_timeline, global::_app->place_tl, global::_app->id)
			tl_mark_placed(ScopeAny(self), false);
		
		global::_app->place_tl = null_;
		global::_app->window_busy = /*""*/ STR(0);
		mouse_clear(mb_left);
	}
	
	RealType app_update_place(ScopeAny self)
	{
		if (sVar(window_busy) != /*"place"*/ STR(113))
			return IntType(0);
		sInt(mouse_cursor) = cr_drag;
		if (vec3_length(vec3_sub(sVec(cam_work_from), sVec(place_cam_work_from))) > IntType(1) || sVar(place_cam_work_angle_look_xy) != sVar(cam_work_angle_look_xy) || sVar(place_cam_work_angle_look_z) != sVar(cam_work_angle_look_z))
		{
			ObjType(obj_view, sInt(view_main))->update_depth = true;
			ObjType(obj_view, sInt(view_second))->update_depth = true;
			sVec(place_cam_work_from) = sVec(cam_work_from);
			sVar(place_cam_work_angle_look_xy) = sVar(cam_work_angle_look_xy);
			sVar(place_cam_work_angle_look_z) = sVar(cam_work_angle_look_z);
		}
		if (sVar(place_view_pos) != null_)
		{
			RealType snappos = sReal(setting_snap);
			if (keyboard_check(vk_shift))
				snappos = !(snappos > 0);
			if (snappos > 0)
			{
				sVar(place_view_pos)[X_] = snap(sVar(place_view_pos).Value(X_), sReal(setting_snap_size_position));
				sVar(place_view_pos)[Y_] = snap(sVar(place_view_pos).Value(Y_), sReal(setting_snap_size_position));
				sVar(place_view_pos)[Z_] = snap(sVar(place_view_pos).Value(Z_), sReal(setting_snap_size_position));
			}
			withOne (obj_timeline, sInt(place_tl), global::_app->id)
			{
				self->value[e_value_POS_X] = global::_app->place_view_pos.Value(X_);
				self->value[e_value_POS_Y] = global::_app->place_view_pos.Value(Y_);
				self->value[e_value_POS_Z] = global::_app->place_view_pos.Value(Z_);
				if (global::_app->place_spawn)
				{
					self->value_default[e_value_POS_X] = self->value.Value(e_value_POS_X);
					self->value_default[e_value_POS_Y] = self->value.Value(e_value_POS_Y);
					self->value_default[e_value_POS_Z] = self->value.Value(e_value_POS_Z);
				}
				self->update_matrix = true;
			}
			
			tl_update_matrix(self);
			withOne (obj_history, sArr(history).Value(IntType(0)), global::_app->id)
			{
				self->value_default[e_value_POS_X] = global::_app->place_view_pos.Value(X_);
				self->value_default[e_value_POS_Y] = global::_app->place_view_pos.Value(Y_);
				self->value_default[e_value_POS_Z] = global::_app->place_view_pos.Value(Z_);
			}
			
			sVar(place_view_pos) = null_;
		}
		if (sInt(place_view_mouse) == null_ && sBool(mouse_left_pressed))
			app_stop_place();
		if (keyboard_check_pressed(vk_escape))
		{
		}
		sInt(place_view_mouse) = null_;
		return 0.0;
	}
	
	void tl_mark_placed(ScopeAny self, BoolType active)
	{
		sBool(placed) = active;
		for (IntType t = IntType(0); t < ds_list_size(sInt(tree_list)); t++)
		{
			withOne (obj_timeline, DsList(sInt(tree_list)).Value(t), self->id)
			{
				self->parent_is_placed = active;
				tl_mark_placed(ScopeAny(self), active);
			}
			
		}
	}
	
	void action_setting_place_new(ScopeAny self, VarType argument0)
	{
		sVar(setting_place_new) = argument0;
	}
	
	BoolType app_startup(ScopeAny self)
	{
		sVar(startup_error) = true;
		if (!lib_startup())
			return false;
		if (!is_cpp())
			if (!file_lib_startup())
				return false;
		if (!file_exists_lib(legacy_file))
			return missing_file(legacy_file);
		if (!file_exists_lib(language_file))
			return missing_file(language_file);
		vertex_format_startup(self);
		if (!shader_startup())
			return false;
		if (!legacy_startup())
			return false;
		app_startup_lists(self);
		app_startup_collapse();
		app_startup_micro_animations();
		app_startup_window(self);
		app_startup_themes(self);
		app_startup_fonts(self);
		app_startup_interface_lists();
		app_startup_keybinds();
		app_startup_recent(self);
		toasts_startup(self);
		json_startup();
		settings_startup(self);
		project_startup(self);
		render_startup(self);
		camera_startup(self);
		if (!minecraft_assets_startup(self))
			return false;
		sVar(startup_error) = false;
		return true;
	}
	
	void app_startup_collapse()
	{
		global::collapse_ani = IntType(1);
		global::collapse_groups = IntType(0);
		global::collapse_map = ds_map_create();
		collapse_register(/*"backup"*/ STR(114));
		collapse_register(/*"watermark"*/ STR(29));
		collapse_register(/*"file"*/ STR(115));
		collapse_register(/*"edit"*/ STR(116));
		collapse_register(/*"tools"*/ STR(117));
		collapse_register(/*"viewport"*/ STR(118));
		collapse_register(/*"timeline"*/ STR(119));
		collapse_register(/*"camera"*/ STR(120));
		collapse_register(/*"texfilter"*/ STR(121));
		collapse_register(/*"ssao"*/ STR(122));
		collapse_register(/*"shadows"*/ STR(123));
		collapse_register(/*"subsurface"*/ STR(124));
		collapse_register(/*"indirect"*/ STR(125));
		collapse_register(/*"reflections"*/ STR(126));
		collapse_register(/*"glow"*/ STR(127));
		collapse_register(/*"glow_falloff"*/ STR(128));
		collapse_register(/*"aa"*/ STR(129));
		collapse_register(/*"light_management"*/ STR(130));
		collapse_register(/*"models_scenery"*/ STR(131));
		collapse_register(/*"glint"*/ STR(132));
		collapse_register(/*"sunlight"*/ STR(133));
		collapse_register(/*"sky"*/ STR(134));
		collapse_register(/*"clouds"*/ STR(135));
		collapse_register(/*"ground"*/ STR(136));
		collapse_register(/*"fog"*/ STR(137));
		collapse_register(/*"wind"*/ STR(138));
		collapse_register(/*"follow_path"*/ STR(139));
		collapse_register(/*"rotatepoint"*/ STR(140));
		collapse_register(/*"ik"*/ STR(141));
		collapse_register(/*"path_shape"*/ STR(142));
		collapse_register(/*"path_shape_tube"*/ STR(143));
		collapse_register(/*"light_management_cam"*/ STR(144));
		collapse_register(/*"aperture"*/ STR(145));
		collapse_register(/*"camshake"*/ STR(146));
		collapse_register(/*"dof"*/ STR(147));
		collapse_register(/*"dof_fringe"*/ STR(148));
		collapse_register(/*"bloom"*/ STR(149));
		collapse_register(/*"lensdirt"*/ STR(150));
		collapse_register(/*"clrcor"*/ STR(151));
		collapse_register(/*"grain"*/ STR(152));
		collapse_register(/*"vignette"*/ STR(153));
		collapse_register(/*"ca"*/ STR(154));
		collapse_register(/*"distort"*/ STR(155));
		collapse_register(/*"itemslot"*/ STR(156));
		collapse_register(/*"material_color"*/ STR(157));
		collapse_register(/*"material_surface"*/ STR(158));
		collapse_register(/*"material_subsurface"*/ STR(159));
		collapse_register(/*"textoutline"*/ STR(160));
		collapse_register(/*"tl_glint"*/ STR(161));
	}
	
	void app_startup_fonts(ScopeAny self)
	{
		sInt(font_subheading) = font_add(fonts_directory + /*"rubik_medium.ttf"*/ STR(162), (IntType)(8.5), false, false, IntType(32), IntType(1024));
		sInt(font_label) = font_add(fonts_directory + /*"noto_bold.ttf"*/ STR(163), IntType(9), false, false, IntType(32), IntType(1024));
		sInt(font_value) = font_add(fonts_directory + /*"noto_regular.ttf"*/ STR(164), IntType(9), false, false, IntType(32), IntType(1024));
		sInt(font_digits) = font_add(fonts_directory + /*"notomono_regular.ttf"*/ STR(165), IntType(9), false, false, IntType(32), IntType(1024));
		sInt(font_caption) = font_add(fonts_directory + /*"noto_regular.ttf"*/ STR(164), IntType(8), false, false, IntType(32), IntType(1024));
		sInt(font_button) = font_add(fonts_directory + /*"rubik_medium.ttf"*/ STR(162), (IntType)(9.5), false, false, IntType(32), IntType(1024));
		sVar(font_upgrade) = font_add(fonts_directory + /*"noto_regular.ttf"*/ STR(164), IntType(18), false, false, IntType(32), IntType(1024));
		sInt(font_heading) = font_add(fonts_directory + /*"rubik_medium.ttf"*/ STR(162), IntType(10), false, false, IntType(32), IntType(1024));
		sVar(font_body_big) = font_add(fonts_directory + /*"noto_regular.ttf"*/ STR(164), IntType(12), false, false, IntType(32), IntType(1024));
		sInt(font_heading_big) = font_add(fonts_directory + /*"rubik_medium.ttf"*/ STR(162), IntType(13), false, false, IntType(32), IntType(1024));
	}
	
	void app_startup_interface(ScopeAny self)
	{
		window_main_restore(sVar(setting_main_window_rect), sVar(setting_main_window_maximized));
		app_startup_shortcut_bar();
		app_startup_interface_bench();
		app_startup_interface_timeline();
		app_startup_interface_export();
		app_startup_interface_menus();
		app_startup_interface_settings_menus();
		app_startup_interface_popups();
		app_startup_interface_panels();
		app_startup_interface_tabs();
		app_startup_interface_toolbar();
		app_startup_interface_views();
		app_startup_interface_world_import();
		app_startup_interface_context_menu();
		togglebutton_reset(self);
		textbox_startup();
		history_startup();
		textfield_group_reset(self);
		background_ground_startup();
		background_sky_startup();
		sInt(http_assets) = http_get(link_assets_versions);
		if (dev_mode)
		{
			popup_newproject_clear(self);
			if (dev_mode_project != /*""*/ STR(0))
			{
				project_reset(self);
				if (!file_exists_lib(dev_mode_project))
				{
					sStr(setting_project_folder) = filename_dir(filename_dir(dev_mode_project));
					ObjType(obj_popup, sInt(popup_newproject))->folder = filename_name(filename_dir(dev_mode_project));
					ObjType(obj_textbox, ObjType(obj_popup, sInt(popup_newproject))->tbx_name)->text = string_replace(filename_name(dev_mode_project), filename_ext(dev_mode_project), /*""*/ STR(0));
					project_create(self);
				}
				else
					project_load(self, { dev_mode_project });
				
			}
			else
			{
				StringType projfile = sStr(setting_project_folder) + ObjType(obj_popup, sInt(popup_newproject))->folder + /*"/New Project.miproject"*/ STR(166);
				if (file_exists_lib(projfile))
					project_load(self, { projfile });
				else
					project_create(self);
				
			}
			
			sStr(window_state) = /*""*/ STR(0);
		}
		else
		{
			project_reset(self);
			if (!file_exists_lib(settings_file))
				popup_show(self, sInt(popup_welcome));
		}
		
	}
	
	void app_startup_interface_bench()
	{
		global::_app->bench_open = false;
		global::_app->bench_hover_ani = IntType(0);
		global::_app->bench_hover_ani_goal = IntType(0);
		global::_app->bench_click_ani = IntType(0);
		global::_app->bench_click_ani_goal = IntType(0);
		global::_app->bench_rotate_ani = IntType(0);
		global::_app->bench_button_hover = false;
		global::_app->bench_show_ani_type = /*""*/ STR(0);
		global::_app->bench_show_ani = IntType(0);
		global::_app->bench_settings_ani = IntType(0);
		global::_app->bench_height = IntType(325);
		global::_app->bench_type_list = list_new();
		global::list_edit = global::_app->bench_type_list;
		ObjType(obj_list, global::list_edit)->get_name = true;
		ObjType(obj_list, global::list_edit)->show_ticks = false;
		list_item_add(/*"typechar"*/ STR(167), e_tl_type_CHARACTER, /*""*/ STR(0), null_, icons_CHARACTER, null_, ID_bench_click);
		list_item_add(/*"typebodypart"*/ STR(168), e_tl_type_BODYPART, /*""*/ STR(0), null_, icons_PART, null_, ID_bench_click);
		list_item_add(/*"typemodel"*/ STR(169), e_tl_type_MODEL, /*""*/ STR(0), null_, icons_MODEL, null_, ID_bench_click);
		list_item_add(/*"typeitem"*/ STR(170), e_tl_type_ITEM, /*""*/ STR(0), null_, icons_ITEM, null_, ID_bench_click);
		list_item_add(/*"typescenery"*/ STR(171), e_tl_type_SCENERY, /*""*/ STR(0), null_, icons_SCENERY, null_, ID_bench_click);
		list_item_add(/*"typeblock"*/ STR(172), e_tl_type_BLOCK, /*""*/ STR(0), null_, icons_BLOCK, null_, ID_bench_click);
		list_item_add(/*"typespblock"*/ STR(173), e_tl_type_SPECIAL_BLOCK, /*""*/ STR(0), null_, icons_BLOCK_SPECIAL, null_, ID_bench_click);
		list_item_add(/*"typeshape"*/ STR(174), e_tl_type_SHAPE, /*""*/ STR(0), null_, icons_SHAPES, null_, ID_bench_click);
		list_item_add(/*"typetext"*/ STR(175), e_tl_type_TEXT, /*""*/ STR(0), null_, icons_TEXT, null_, ID_bench_click);
		list_item_add(/*"typepath"*/ STR(176), e_tl_type_PATH, /*""*/ STR(0), null_, icons_PATH, null_, ID_bench_click);
		list_item_add(/*"typecamera"*/ STR(177), e_tl_type_CAMERA, /*""*/ STR(0), null_, icons_CAMERA, null_, ID_bench_click);
		list_item_add(/*"typeparticles"*/ STR(178), e_tl_type_PARTICLE_SPAWNER, /*""*/ STR(0), null_, icons_FIREWORKS, null_, ID_bench_click);
		list_item_add(/*"typelightsource"*/ STR(179), e_tl_type_LIGHT_SOURCE, /*""*/ STR(0), null_, icons_LIGHT_POINT, null_, ID_bench_click);
		list_item_add(/*"typeaudio"*/ STR(180), e_tl_type_AUDIO, /*""*/ STR(0), null_, icons_NOTE, null_, ID_bench_click);
		list_item_add(/*"typebackground"*/ STR(181), e_tl_type_BACKGROUND, /*""*/ STR(0), null_, icons_CLOUD, null_, ID_bench_click);
		global::list_edit = null_;
		global::_app->bench_settings = (new obj_bench_settings)->id;
		withOne (obj_bench_settings, global::_app->bench_settings, global::_app->id)
		{
			self->posx = IntType(0);
			self->posy = IntType(0);
			self->height = IntType(0);
			self->height_goal = global::_app->bench_height;
			temp_event_create(ScopeAny(self));
			self->model_name = default_model;
			self->model_state = array_copy_1d(ObjType(obj_model, DsMap(ObjType(obj_minecraft_assets, global::mc_assets)->model_name_map).Value(sVar(model_name)))->default_state);
			self->model_part_name = default_model_part;
			temp_update_model(ScopeAny(self));
			temp_update_model_part(ScopeAny(self));
			temp_update_model_shape(ScopeAny(self));
			self->block_state = array_copy_1d(ObjType(obj_block, DsMap(ObjType(obj_minecraft_assets, global::mc_assets)->block_name_map).Value(sVar(block_name)))->default_state);
			temp_particles_init(ScopeAny(self));
			self->model_tex = global::mc_res;
			self->model_tex_material = global::mc_res;
			self->model_tex_normal = global::mc_res;
			self->item_tex = global::mc_res;
			self->item_tex_material = global::mc_res;
			self->item_tex_normal = global::mc_res;
			self->block_tex = global::mc_res;
			self->block_tex_material = global::mc_res;
			self->block_tex_normal = global::mc_res;
			self->text_font = global::mc_res;
			self->particle_preset = /*""*/ STR(0);
			self->type = e_temp_type_CHARACTER;
			self->shape_type = e_shape_type_CUBE;
			self->light_type = e_tl_type_POINT_LIGHT;
			self->preview = (new obj_preview)->id;
			self->char_list = (new obj_sortlist)->id;
			ObjType(obj_sortlist, self->char_list)->script = ID_action_bench_model_name;
			sortlist_column_add(self->char_list, /*"charname"*/ STR(182), IntType(0));
			for (IntType c = IntType(0); c < ds_list_size(ObjType(obj_minecraft_assets, global::mc_assets)->char_list); c++)
				sortlist_add(self->char_list, ObjType(obj_model, DsList(ObjType(obj_minecraft_assets, global::mc_assets)->char_list).Value(c))->name);
			self->item_scroll = (new obj_scrollbar)->id;
			self->block_list = (new obj_sortlist)->id;
			ObjType(obj_sortlist, self->block_list)->script = ID_action_bench_block_name;
			sortlist_column_add(self->block_list, /*"blockname"*/ STR(183), IntType(0));
			for (IntType b = IntType(0); b < ds_list_size(ObjType(obj_minecraft_assets, global::mc_assets)->block_list); b++)
				if (!(ObjType(obj_block, DsList(ObjType(obj_minecraft_assets, global::mc_assets)->block_list).Value(b))->timeline > 0) || ObjType(obj_block, DsList(ObjType(obj_minecraft_assets, global::mc_assets)->block_list).Value(b))->tl_model_name == /*""*/ STR(0) || ObjType(obj_block, DsList(ObjType(obj_minecraft_assets, global::mc_assets)->block_list).Value(b))->model_double > 0)
					sortlist_add(self->block_list, ObjType(obj_block, DsList(ObjType(obj_minecraft_assets, global::mc_assets)->block_list).Value(b))->name);
			self->special_block_list = (new obj_sortlist)->id;
			ObjType(obj_sortlist, self->special_block_list)->script = ID_action_bench_model_name;
			sortlist_column_add(self->special_block_list, /*"spblockname"*/ STR(184), IntType(0));
			for (IntType c = IntType(0); c < ds_list_size(ObjType(obj_minecraft_assets, global::mc_assets)->special_block_list); c++)
				sortlist_add(self->special_block_list, ObjType(obj_model, DsList(ObjType(obj_minecraft_assets, global::mc_assets)->special_block_list).Value(c))->name);
			self->bodypart_model_list = (new obj_sortlist)->id;
			ObjType(obj_sortlist, self->bodypart_model_list)->script = ID_action_bench_model_name;
			sortlist_column_add(self->bodypart_model_list, /*"bodypartmodelname"*/ STR(185), IntType(0));
			for (IntType m = IntType(0); m < ds_list_size(ObjType(obj_minecraft_assets, global::mc_assets)->char_list); m++)
				sortlist_add(self->bodypart_model_list, ObjType(obj_model, DsList(ObjType(obj_minecraft_assets, global::mc_assets)->char_list).Value(m))->name);
			for (IntType m = IntType(0); m < ds_list_size(ObjType(obj_minecraft_assets, global::mc_assets)->special_block_list); m++)
				sortlist_add(self->bodypart_model_list, ObjType(obj_model, DsList(ObjType(obj_minecraft_assets, global::mc_assets)->special_block_list).Value(m))->name);
			self->particles_list = (new obj_sortlist)->id;
			ObjType(obj_sortlist, self->particles_list)->script = ID_action_bench_particles;
			sortlist_column_add(self->particles_list, /*"particlepresetname"*/ STR(186), IntType(0));
		}
		
	}
	
	void app_startup_interface_context_menu()
	{
		global::_app->context_group_copy_list = ds_list_create();
		for (IntType i = IntType(0); i < e_context_group_amount; i++)
			ds_list_add({ global::_app->context_group_copy_list, null_ });
		global::_app->context_menu_copy_axis_edit = X_;
		global::_app->context_menu_value_type = e_context_type_NONE;
		global::_app->context_menu_value = null_;
		global::_app->context_menu_value_name = /*""*/ STR(0);
		global::_app->context_menu_copy_type = e_context_type_NONE;
		global::_app->context_menu_copy = null_;
		global::_app->context_menu_value_script = null_;
		global::_app->context_menu_value_default = IntType(0);
		global::_app->context_menu_name = /*""*/ STR(0);
		global::_app->context_menu_level_amount = IntType(0);
		global::_app->context_menu_level = ds_list_create();
		global::_app->context_menu_mouseon = false;
		global::_app->context_menu_mouseon_level = IntType(0);
		global::_app->context_menu_mouseon_item = null_;
		global::_app->context_menu_mouseon_reset = false;
		global::_app->context_menu_busy_prev = /*""*/ STR(0);
		global::_app->context_menu_min_x = no_limit;
		global::_app->context_menu_min_y = no_limit;
		global::_app->context_menu_max_x = -no_limit;
		global::_app->context_menu_max_y = -no_limit;
		global::_app->context_menu_ani = /*""*/ STR(0);
		global::_app->context_menu_window = e_window_MAIN;
		global::_app->context_menu_tbx_action = false;
		global::_app->context_menu_tbx_cut = false;
		global::_app->context_menu_tbx_copy = false;
		global::_app->context_menu_tbx_paste = false;
		global::_app->context_menu_tbx_select_all = false;
		global::_app->context_menu_group_temp = null_;
		global::_app->context_menu_group = null_;
	}
	
	void app_startup_interface_export()
	{
		global::_app->export_surface = null_;
		global::_app->export_sample = IntType(0);
		global::_app->export_filename = /*""*/ STR(0);
		global::_app->export_escape_time = IntType(0);
		global::_app->exportmovie_format = /*""*/ STR(0);
		global::_app->exportmovie_marker_previous = IntType(0);
		global::_app->exportmovie_marker_start = IntType(0);
		global::_app->exportmovie_marker_end = IntType(0);
		global::_app->exportmovie_frame = IntType(0);
		global::_app->exportmovie_frame_rate = IntType(0);
		global::_app->exportmovie_framespersecond = IntType(0);
		global::_app->exportmovie_high_quality = true;
		global::_app->exportmovie_start = null_;
		global::_app->exportmovie_buffer = null_;
	}
	
	void app_startup_interface_lists()
	{
		global::list_edit = null_;
		global::list_item_last = null_;
		global::list_item_value = null_;
		global::list_item_script = null_;
		global::list_item_script_value = null_;
	}
	
	void app_startup_interface_menus()
	{
		global::_app->menu_list = ds_list_create();
		global::_app->menu_count = IntType(0);
		global::_app->menu_current = IntType(0);
		global::_app->menu_popup = null_;
		global::_app->menu_model_current = null_;
		global::_app->menu_model_state = null_;
		global::_app->menu_model_state_current = null_;
		global::_app->menu_block_current = null_;
		global::_app->menu_block_state = null_;
		global::_app->menu_block_state_current = null_;
		global::_app->menu_bench = false;
		global::_app->menu_armor_piece = IntType(0);
		global::_app->menu_armor_piece_data = IntType(0);
	}
	
	void app_startup_interface_panels()
	{
		global::_app->panel_map = ds_string_map_create();
		DsMap(global::_app->panel_map)[/*"left_secondary"*/ STR(187)] = (new obj_panel)->id;
		ObjType(obj_panel, DsMap(global::_app->panel_map)[/*"left_secondary"*/ STR(187)])->size = global::_app->setting_panel_left_bottom_size;
		ObjType(obj_panel, DsMap(global::_app->panel_map)[/*"left_secondary"*/ STR(187)])->location = /*"left_secondary"*/ STR(187);
		DsMap(global::_app->panel_map)[/*"right_secondary"*/ STR(188)] = (new obj_panel)->id;
		ObjType(obj_panel, DsMap(global::_app->panel_map)[/*"right_secondary"*/ STR(188)])->size = global::_app->setting_panel_right_bottom_size;
		ObjType(obj_panel, DsMap(global::_app->panel_map)[/*"right_secondary"*/ STR(188)])->location = /*"right_secondary"*/ STR(188);
		DsMap(global::_app->panel_map)[/*"bottom"*/ STR(189)] = (new obj_panel)->id;
		ObjType(obj_panel, DsMap(global::_app->panel_map)[/*"bottom"*/ STR(189)])->size = global::_app->setting_panel_bottom_size;
		ObjType(obj_panel, DsMap(global::_app->panel_map)[/*"bottom"*/ STR(189)])->location = /*"bottom"*/ STR(189);
		DsMap(global::_app->panel_map)[/*"top"*/ STR(190)] = (new obj_panel)->id;
		ObjType(obj_panel, DsMap(global::_app->panel_map)[/*"top"*/ STR(190)])->size = global::_app->setting_panel_top_size;
		ObjType(obj_panel, DsMap(global::_app->panel_map)[/*"top"*/ STR(190)])->location = /*"top"*/ STR(190);
		DsMap(global::_app->panel_map)[/*"left"*/ STR(191)] = (new obj_panel)->id;
		ObjType(obj_panel, DsMap(global::_app->panel_map)[/*"left"*/ STR(191)])->size = global::_app->setting_panel_left_top_size;
		ObjType(obj_panel, DsMap(global::_app->panel_map)[/*"left"*/ STR(191)])->location = /*"left"*/ STR(191);
		DsMap(global::_app->panel_map)[/*"right"*/ STR(192)] = (new obj_panel)->id;
		ObjType(obj_panel, DsMap(global::_app->panel_map)[/*"right"*/ STR(192)])->size = global::_app->setting_panel_right_top_size;
		ObjType(obj_panel, DsMap(global::_app->panel_map)[/*"right"*/ STR(192)])->location = /*"right"*/ STR(192);
		global::_app->panel_window_obj = (new obj_panel)->id;
		global::_app->panel_area_x = IntType(0);
		global::_app->panel_area_y = IntType(0);
		global::_app->panel_area_width = IntType(0);
		global::_app->panel_area_height = IntType(0);
		global::_app->panel_resize = null_;
		global::_app->panel_resize_size = IntType(0);
	}
	
	void app_startup_interface_popups()
	{
		global::_app->popup_welcome = new_popup({ /*"welcome"*/ STR(193), ID_popup_welcome_draw, IntType(420), IntType(159), true, false, false, false });
		global::_app->popup_about = new_popup({ /*"about"*/ STR(194), ID_popup_about_draw, IntType(542), IntType(480), true, true, false, true });
		global::_app->popup_newproject = new_popup({ /*"newproject"*/ STR(195), ID_popup_newproject_draw, IntType(380), null_, true });
		withOne (obj_popup, global::_app->popup_newproject, global::_app->id)
		{
			self->folder = /*""*/ STR(0);
			self->tbx_name = new_textbox(true, IntType(0), /*""*/ STR(0));
			self->tbx_author = new_textbox(true, IntType(0), /*""*/ STR(0));
			self->tbx_description = new_textbox(false, IntType(0), /*""*/ STR(0));
		}
		
		global::_app->popup_saveas = new_popup({ /*"saveas"*/ STR(196), ID_popup_saveas_draw, IntType(380), null_, true });
		withOne (obj_popup, global::_app->popup_saveas, global::_app->id)
		{
			self->folder = /*""*/ STR(0);
			self->tbx_name = new_textbox(true, IntType(0), /*""*/ STR(0));
			self->tbx_author = new_textbox(true, IntType(0), /*""*/ STR(0));
			self->tbx_description = new_textbox(false, IntType(0), /*""*/ STR(0));
		}
		
		global::_app->popup_loading = new_popup({ /*"loading"*/ STR(197), ID_popup_loading_draw, IntType(400), null_, true, true });
		withOne (obj_popup, global::_app->popup_loading, global::_app->id)
		{
			self->load_object = null_;
			self->load_script = null_;
			self->progress = IntType(0);
			self->text = /*""*/ STR(0);
		}
		
		global::_app->popup_downloadskin = new_popup({ /*"downloadskin"*/ STR(198), ID_popup_downloadskin_draw, IntType(300), null_, true });
		withOne (obj_popup, global::_app->popup_downloadskin, global::_app->id)
		{
			self->value_script = null_;
			self->username = /*""*/ STR(0);
			self->texture = null_;
			self->fail_message = /*""*/ STR(0);
			self->start_time = IntType(0);
			self->tbx_username = new_textbox(true, IntType(0), /*""*/ STR(0));
		}
		
		global::_app->popup_importimage = new_popup({ /*"importimage"*/ STR(199), ID_popup_importimage_draw, IntType(236), null_, true });
		withOne (obj_popup, global::_app->popup_importimage, global::_app->id)
		{
			self->filename = /*""*/ STR(0);
			self->type = e_res_type_SKIN;
		}
		
		global::_app->popup_importitemsheet = new_popup({ /*"importitemsheet"*/ STR(200), ID_popup_importitemsheet_draw, IntType(288), null_, true });
		withOne (obj_popup, global::_app->popup_importitemsheet, global::_app->id)
		{
			self->filename = /*""*/ STR(0);
			self->value_script = null_;
			self->texture = null_;
			self->is_sheet = true;
			self->sheet_size = vec2(item_sheet_width, item_sheet_height);
			self->sheet_size_def = self->sheet_size;
			self->tbx_sheet_width = new_textbox_integer();
			self->tbx_sheet_height = new_textbox_integer();
		}
		
		global::_app->popup_exportmovie = new_popup({ /*"exportmovie"*/ STR(201), ID_popup_exportmovie_draw, IntType(350), null_, true });
		withOne (obj_popup, global::_app->popup_exportmovie, global::_app->id)
		{
			self->format = global::_app->setting_export_movie_format.Str();
			self->frame_rate = global::_app->setting_export_movie_frame_rate;
			self->framespersecond = global::_app->setting_export_movie_framespersecond;
			self->bit_rate = global::_app->setting_export_movie_bit_rate;
			self->video_quality = find_videoquality(self->bit_rate);
			self->include_audio = global::_app->setting_export_movie_include_audio;
			self->remove_background = global::_app->setting_export_movie_remove_background;
			self->include_hidden = global::_app->setting_export_movie_include_hidden;
			self->high_quality = global::_app->setting_export_movie_high_quality;
			self->watermark = global::_app->setting_export_movie_watermark;
			self->tbx_video_size_custom_width = new_textbox_integer();
			self->tbx_video_size_custom_height = new_textbox_integer();
			self->tbx_framespersecond = new_textbox_integer();
			self->tbx_bit_rate = new_textbox_integer();
		}
		
		global::_app->popup_exportimage = new_popup({ /*"exportimage"*/ STR(202), ID_popup_exportimage_draw, IntType(350), null_, true });
		withOne (obj_popup, global::_app->popup_exportimage, global::_app->id)
		{
			self->remove_background = global::_app->setting_export_image_remove_background;
			self->include_hidden = global::_app->setting_export_image_include_hidden;
			self->high_quality = global::_app->setting_export_image_high_quality;
			self->watermark = global::_app->setting_export_image_watermark;
			self->tbx_image_size_custom_width = new_textbox_integer();
			self->tbx_image_size_custom_height = new_textbox_integer();
		}
		
		global::_app->popup_upgrade = new_popup({ /*"upgrade"*/ STR(106), ID_popup_upgrade_draw, IntType(420), null_, true, false, true });
		withOne (obj_popup, global::_app->popup_upgrade, global::_app->id)
		{
			self->tbx_key = new_textbox(true, IntType(8), /*""*/ STR(0));
			self->warntext = /*""*/ STR(0);
			self->page = IntType(0);
			self->page_ani = IntType(1);
			self->page_ani_type = /*"right"*/ STR(192);
			self->open_advanced = false;
			self->custom_rendering = /*"default"*/ STR(98);
		}
		
		global::_app->popup_advanced = new_popup({ /*"advanced"*/ STR(203), ID_popup_advanced_draw, IntType(420), null_, true });
		global::_app->popup_modelbench = new_popup({ /*"modelbench"*/ STR(204), ID_popup_modelbench_draw, IntType(420), null_, true });
		withOne (obj_popup, global::_app->popup_modelbench, global::_app->id)
		{
			self->hidden = global::_app->setting_modelbench_popup_hidden;
			self->not_now = false;
		}
		
		global::_app->popup_pattern_editor = new_popup({ /*"patterneditor"*/ STR(205), ID_popup_pattern_editor_draw, IntType(550), null_, true, false, false, false });
		withOne (obj_popup, global::_app->popup_pattern_editor, global::_app->id)
		{
			self->preview = (new obj_preview)->id;
			ObjType(obj_preview, self->preview)->fov = IntType(25);
			ObjType(obj_preview, self->preview)->xy_lock = true;
			self->layer_scrollbar = (new obj_scrollbar)->id;
			self->layer_remove = null_;
			self->layer_edit = null_;
			self->pattern_edit = null_;
			self->pattern_edit_preview = null_;
			self->pattern_list_edit = ds_list_create();
			self->pattern_color_list_edit = ds_list_create();
			self->pattern_sprites = ArrType();
			self->res_ratio = IntType(1);
			self->pattern_resource = global::mc_res;
			self->update = false;
			self->layer_move = null_;
			self->layer_move_x = IntType(0);
			self->layer_move_y = IntType(0);
		}
		
		global::_app->popup_armor_editor = new_popup({ /*"armoreditor"*/ STR(206), ID_popup_armor_editor_draw, IntType(550), null_, true, false, false, true });
		withOne (obj_popup, global::_app->popup_armor_editor, global::_app->id)
		{
			self->preview = (new obj_preview)->id;
			ObjType(obj_preview, self->preview)->fov = IntType(25);
			ObjType(obj_preview, self->preview)->xy_lock = true;
			ObjType(obj_preview, self->preview)->zoom = 0.5;
			ObjType(obj_preview, self->preview)->goalzoom = 0.5;
			self->piece_current = IntType(0);
			self->piece_data_id = IntType(0);
			self->armor_edit = null_;
		}
		
	}
	
	void app_startup_interface_settings_menus()
	{
		global::_app->settings_menu_name = /*""*/ STR(0);
		global::_app->settings_menu_ani = IntType(0);
		global::_app->settings_menu_ani_type = /*""*/ STR(0);
		global::_app->settings_menu_window = e_window_MAIN;
		global::_app->settings_menu_x = IntType(0);
		global::_app->settings_menu_y = IntType(0);
		global::_app->settings_menu_w = IntType(0);
		global::_app->settings_menu_h = IntType(0);
		global::_app->settings_menu_h_max = null_;
		global::_app->settings_menu_button_w = IntType(0);
		global::_app->settings_menu_button_h = IntType(0);
		global::_app->settings_menu_amount = IntType(0);
		global::_app->settings_menu_primary = false;
		global::_app->settings_menu_script = null_;
		global::_app->settings_menu_above = false;
		global::_app->settings_menu_list = null_;
		global::_app->settings_menu_amount = IntType(0);
		global::_app->settings_menu_busy_prev = /*""*/ STR(0);
		global::_app->settings_menu_scroll = (new obj_scrollbar)->id;
		global::_app->settings_menu_steps = IntType(0);
		colorpicker_startup();
		global::_app->tbx_grid_rows = new_textbox_integer();
		global::_app->tbx_grid_columns = new_textbox_integer();
		global::_app->tbx_snap_position = new_textbox_decimals();
		global::_app->tbx_snap_rotation = new_textbox_decimals();
		global::_app->tbx_snap_scale = new_textbox_decimals();
	}
	
}
